pre-commit:
  parallel: true
  commands:
    secure:
      run: bun audit

    eslint:
      run: bunx eslint "src/**/*.ts" --max-warnings=0

    stylelint:
      run: bunx stylelint "src/css/**/*.css"

    htmlhint:
      run: bunx htmlhint "public/**/*.html"

    prettier:
      run: bunx prettier --check "./**/*.{ts,css,html,json}"

    test:
      run: bun test

pre-push:
  parallel: false
  commands:
    eslint:
      run: bunx eslint "src/**/*.ts" --max-warnings=0

    stylelint:
      run: bunx stylelint "src/css/**/*.css"

    htmlhint:
      run: bunx htmlhint "public/**/*.html"

    prettier:
      run: bunx prettier --check "./**/*.{ts,css,html,json}"

    test:
      run: bun test

    check-todos:
      run: grep -iR "TODO" ./ | grep -v node_modules || true
      skip:
        - all: false

commit-msg:
  commands:
    lint-message:
      run: bunx commitlint --edit {1}

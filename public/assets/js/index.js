var p=document.getElementById("terminal-input"),c=document.getElementById("terminal-input-row"),i=document.getElementById("autocomplete"),l=document.getElementById("terminal-body"),T=document.getElementById("terminal-line-template");var e=(r)=>{let o=Array.isArray(r)?r:[r];for(let t of o){let m=document.createElement("p");m.className="terminal-line",m.textContent=`${t}`,l.appendChild(m)}};var C={name:"help",exec:(r)=>{let o=["help","ls","cd ( doesnt work yet )","slowking","echo","clear"];return console.log(o),e(o),0}};var E={name:"echo",exec:(r)=>{if(!r||r.length<2)return 1;let o=r.slice(1).join(" ");return e(o),0}};var d={name:"ls",exec:(r)=>{return e(["Pages on this Website:","About_Me","Writeups","Projects","Home"]),0}};var a={name:"cd",exec:(r)=>{return 0}};var B={name:"slowking",exec:(r)=>{return e("Thats Me!"),0}};var n={name:"clear",exec:(r)=>{if(!l)return 0;for(let o=l.children.length-2;o>=2;o--)l.children[o]?.remove();return 0}};var w=[C,E,d,a,B,n];var M=(r)=>{console.log("Building Commands...");let o={children:new Map};for(let t of r){let m=o;for(let s of t.name){if(!m.children.has(s))m.children.set(s,{children:new Map});m=m.children.get(s)}m.command=t}return o},A=(r)=>{if(!r||x===null)return[];let o=x;for(let s of r){let f=o.children.get(s);if(!f)return[];o=f}function t(s){if(s.command&&s.command.name.startsWith(r))return s.command;for(let f of s.children.values()){let g=t(f);if(g)return g}return}let m=t(o);return m?[m]:[]},L=(r)=>{if(!r||x===null)return;let o=x;for(let t of r){let m=o.children.get(t);if(!m)return;o=m}return o.command?.name===r?o.command:void 0},x=M(w);var y=()=>{l.removeChild(c),l.appendChild(c),p.focus()};p.addEventListener("keydown",(r)=>{if(r.ctrlKey&&r.key.toLowerCase()==="l"){r.preventDefault(),n.exec([""]);return}switch(r.key){case"Enter":{let o=p.value,t=o.split(" ");if(!o||!t||!t[0]){e("No detectable input ;-;"),y(),p.value="";break}let m=L(t[0]);if(!m){e("Command doesn't exist (yet) :("),y(),p.value="";break}e("> "+o),m.exec(t),y(),p.value="";break}case"ArrowRight":{let o=i.textContent?.trim();if(o&&o.startsWith(p.value))p.value=o,i.innerHTML="";break}default:{let o=p.value,t=A(o);if(t.length===0||!t[0]||!t[0].name){i.innerHTML="";break}let m=t[0].name;i.innerHTML=m;break}}});

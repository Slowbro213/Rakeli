var U=[],Vt=(t)=>{if("touches"in t)return{clientX:t.touches[0]?.pageX,clientY:t.touches[0]?.pageY};else return{clientX:t.pageX,clientY:t.pageY}},N=(t)=>{let e={value:t,isDragging:!1,isResizing:!1,startX:0,startY:0,startLeft:0,startTop:0};e.value.onmousedown=(o)=>{if(e.isResizing)return;Q(o,e)},e.value.ontouchstart=(o)=>{if(e.isResizing)return;Q(o,e)},e.value.addEventListener("mousedown",(o)=>{let r=e.value.getBoundingClientRect(),s=20;if(o.pageX>r.right-20&&o.pageY>r.bottom-20)e.isResizing=!0}),U.push(e)};function Q(t,e){let{clientX:o,clientY:r}=Vt(t);if(!o||!r)return;e.isDragging=!0,e.startX=o,e.startY=r,e.startLeft=parseInt(e.value.style.left||"0",10),e.startTop=parseInt(e.value.style.top||"0",10),e.value.style.cursor="grabbing",e.value.style.userSelect="none"}var tt=()=>{U.forEach((t)=>{document.addEventListener("mousemove",(e)=>{if(t.isResizing||!t.isDragging)return;let o=t.startLeft+(e.pageX-t.startX),r=t.startTop+(e.pageY-t.startY);t.value.style.left=`${o}px`,t.value.style.top=`${r}px`}),document.addEventListener("touchmove",(e)=>{if(t.isResizing||!t.isDragging)return;let o=e.touches[0];if(!o)return;let r=t.startLeft+(o.pageX-t.startX),s=t.startTop+(o.pageY-t.startY);t.value.style.left=`${r}px`,t.value.style.top=`${s}px`},{passive:!1}),document.addEventListener("mouseup",()=>{t.isDragging=!1,t.isResizing=!1,t.value.style.cursor="",t.value.style.userSelect="",document.body.style.userSelect=""}),document.addEventListener("touchend",()=>{t.isDragging=!1,t.isResizing=!1,t.value.style.cursor="",t.value.style.userSelect="",document.body.style.userSelect=""})})};var T=document.getElementById("winamp"),a=document.getElementById("winamp-audio"),w=document.getElementById("winamp-graph"),et=document.getElementById("winamp-resume"),ot=document.getElementById("winamp-pause"),rt=document.getElementById("winamp-prev"),st=document.getElementById("winamp-next"),O=document.getElementById("winamp-track-name"),H=document.getElementById("winamp-shuffle"),C=document.getElementById("winamp-repeat"),nt=document.getElementById("winamp-progress"),mt=document.getElementById("winamp-trigger");var D=["bg.mp3","bleach.mp3","terraria.mp3"];function F(t,e,o){e-=1;let r=Math.ceil(t),s=Math.floor(e),n=s-r+1;if(n<=1&&o>=r&&o<=s)throw new Error("No valid numbers available in the given range excluding the specified value.");let l;do l=Math.floor(Math.random()*n)+r;while(l===o);return l}var lt="assets/storage/mp3/",u={val:0},d={val:!1},E={val:!1},at=()=>{if(d.val)return B();if(E.val)u.val=F(0,D.length,u.val);else u.val=(u.val+1)%D.length;return B()},ct=()=>{if(d.val)return B();if(E.val)u.val=F(0,D.length,u.val);else if(u.val=u.val-1,u.val<0)u.val=D.length-1;return B()},it=()=>{E.val=!E.val,d.val=!1},pt=()=>{d.val=!d.val,E.val=!1},B=()=>{let t=D[u.val];if(!t)return console.error("No track :(",u.val),lt+"error.mp3";return lt+t},A=()=>{let t=D[u.val];if(!t)return console.error("No track :("),"error.mp3";return t};var k=64,R=new window.AudioContext,Wt=R.createMediaElementSource(a),z=R.createAnalyser(),P=z.frequencyBinCount,ft=new Uint8Array(P),ut=new Float32Array(k);z.fftSize=2048;z.smoothingTimeConstant=0.7;Wt.connect(z);z.connect(R.destination);for(let t=0;t<k;t++){let e=document.createElement("div");e.classList.add("bar"),e.style.flex="1",e.style.background=`hsl(${t/k*360}, 70%, 50%)`,e.style.height="0%",w.appendChild(e)}var Gt=w.querySelectorAll(".bar");function gt(){z.getByteFrequencyData(ft);for(let t=0;t<k;t++){let e=Math.floor(t*P/k),o=Math.max(e+1,Math.floor((t+1)*P/k)),r=0;for(let i=e;i<o;i++)r+=ft[i];let s=r/(o-e)/255,n=Math.pow(s,1.3)*100,l=ut[t]*0.6+n*0.4;ut[t]=l,Gt[t].style.height=`${l}%`}requestAnimationFrame(gt)}function dt(t){a.src=t,a.load(),a.play()}function S(){C.classList.toggle("bg-blue-600",d.val),C.classList.toggle("hover:bg-blue-700",d.val),C.classList.toggle("bg-gray-700",!d.val),C.classList.toggle("hover:bg-gray-600",!d.val),H.classList.toggle("bg-green-700",E.val),H.classList.toggle("hover:bg-green-900",E.val),H.classList.toggle("bg-gray-500",!E.val),H.classList.toggle("hover:bg-gray-600",!E.val)}a.addEventListener("play",()=>{if(R.state==="suspended")R.resume();gt()});et.onclick=()=>a.play();ot.onclick=()=>a.pause();rt.onclick=()=>{dt(ct()),O.innerHTML=A()};st.onclick=()=>{dt(at()),O.innerHTML=A()};C.onclick=()=>{pt(),C.classList.add("transition-colors"),S()};H.onclick=()=>{it(),H.classList.add("transition-colors"),S()};var Et=document.getElementById("winamp-progress");a.addEventListener("timeupdate",()=>{if(a.duration){let t=a.currentTime/a.duration*100;Et.style.width=`${t}%`}});var L=nt.parentElement,I=!1;function q(t){let e=L.getBoundingClientRect(),o=t-e.left,r=Math.max(0,Math.min(1,o/e.width));a.currentTime=r*a.duration,Et.style.width=`${r*100}%`}L.addEventListener("mousedown",()=>{I=!0});L.addEventListener("mousemove",(t)=>{if(I)q(t.clientX)});L.addEventListener("mouseup",()=>{I=!1});L.addEventListener("mouseleave",()=>{I=!1});L.addEventListener("touchstart",(t)=>{if(I=!0,t.touches.length>0&&t.touches[0])q(t.touches[0].clientX)},{passive:!1});L.addEventListener("touchmove",(t)=>{if(I&&t.touches.length>0&&t.touches[0])q(t.touches[0].clientX)},{passive:!1});L.addEventListener("touchend",()=>{I=!1});a.src=B();a.load();O.innerHTML=A();S();var _t=document.getElementById("current-time"),wt=document.getElementById("total-time");function yt(t){let e=Math.floor(t/60).toString().padStart(2,"0"),o=Math.floor(t%60).toString().padStart(2,"0");return`${e}:${o}`}a.addEventListener("timeupdate",()=>{_t.textContent=yt(a.currentTime)});a.addEventListener("loadedmetadata",()=>{wt.textContent=yt(a.duration)});var Ft=()=>{T.classList.remove("open"),T.classList.add("close"),J=!1},Pt=()=>{T.classList.remove("hidden"),T.classList.remove("close"),T.classList.add("open"),J=!0},J=!1;mt.onclick=()=>{if(J)Ft();else Pt()};N(T);var f=document.getElementById("terminal-input"),Z=document.getElementById("terminal-input-row"),M=document.getElementById("autocomplete"),y=document.getElementById("terminal-body"),b=document.getElementById("terminal-window"),vt=document.getElementById("terminal-btn-close"),xt=document.getElementById("terminal-trigger");var c=(t)=>{let e=Array.isArray(t)?t:[t];for(let o of e){let r=document.createElement("p");r.className="terminal-line",r.textContent=`${o}`,y.appendChild(r)}};var Lt={name:"help",exec:()=>{return c(["help","ls","cd ( doesnt work yet )","slowking","echo","clear","history"]),0}};var ht={name:"cd",exec:()=>{return 0}};var V={name:"clear",exec:(t)=>{if(!y||!t)return 0;let e=2,o=e+1+(t[0]==="clear"?1:0);while(y.children.length>o){let r=y.children[e];if(!r)break;y?.removeChild(r)}return 0}};var K=new Map([["PATH","/aswsome/binaries"],["HOME","/Rakeli/Home"],["WORKING_DIR","/Rakeli/Home"],["EXIT_CODE",0]]);var Tt={name:"echo",exec:(t)=>{if(!t||t.length<2)return 1;let e=t.slice(1).join(" "),o=t[1];switch(o){case"$?":{let r=K.get("EXIT_CODE");return c(String(r)),0}default:if(o?.startsWith("$")){let r=o.slice(1),s=K.get(r);if(s!==void 0)return c(String(s)),0;else return c(`No such variable: ${r}`),1}}return c(e),0}};var v=[],x=0,St=100,Ht=(t)=>{if(v[v.length-1]===t)return;if(v.length===St)v.shift();v.push(t),x=v.length},Ct=()=>{if(x--,x<0)x=0;return v[x]},Dt=()=>{if(x++,x>v.length){x--;return}return v[x]},It=()=>{return v};var Mt={name:"history",exec:()=>{return c(It()),0}};var bt={name:"ls",exec:()=>{return c(["Pages on this Website:","About_Me","Writeups","Projects","Home"]),0}};var Bt={name:"slowking",exec:()=>{return c("Thats Me!"),0}};var W=[ht,V,Tt,Lt,Mt,bt,Bt];var qt=(t)=>{let e={children:new Map};for(let o of t){let r=e;for(let s of o.name){if(!r.children.has(s))r.children.set(s,{children:new Map});r=r.children.get(s)}r.command=o}return e},kt=(t)=>{if(!t||$===null)return[];let e=$;for(let s of t){let n=e.children.get(s);if(!n)return[];e=n}function o(s){if(s.command?.name.startsWith(t))return s.command.name;if(s.line?.startsWith(t))return s.line;for(let n of s.children.values()){let l=o(n);if(l)return l}return}let r=o(e);return r?[r]:[]},zt=(t)=>{if(!t||$===null)return;let e=$;for(let o of t){let r=e.children.get(o);if(!r)return;e=r}return e.command?.name===t?e.command:void 0},Yt=(t,e=$)=>{let o=e;for(let r of t){if(!o.children.has(r))o.children.set(r,{children:new Map});o=o.children.get(r)}o.line=t},$=qt(W);var G=()=>{y.removeChild(Z),y.appendChild(Z),f.focus()};var Xt=(t,e)=>{if(t===e)return 0;let o=t.length,r=e.length;if(o===0||r===0)return o+r;let s=0,n,l,i,p,m,g,h,Y,X=new Array(o);for(n=0;n<o;)X[n]=++n;for(;s+3<r;s+=4){let _=e.charCodeAt(s),Nt=e.charCodeAt(s+1),Ot=e.charCodeAt(s+2),At=e.charCodeAt(s+3);p=s,i=s+1,m=s+2,g=s+3,h=s+4;for(n=0;n<o;n++){if(Y=t.charCodeAt(n),l=X[n],l<p||i<p)p=l>i?i+1:l+1;else if(_!==Y)p++;if(p<i||m<i)i=p>m?m+1:p+1;else if(Nt!==Y)i++;if(i<m||g<m)m=i>g?g+1:i+1;else if(Ot!==Y)m++;if(m<g||h<g)g=m>h?h+1:m+1;else if(At!==Y)g++;X[n]=h=g,g=m,m=i,i=p,p=l}}for(;s<r;){let _=e.charCodeAt(s);p=s,m=++s;for(n=0;n<o;n++){if(l=X[n],l<p||m<p)m=l>m?m+1:l+1;else if(_!==t.charCodeAt(n))m=p+1;else m=p;X[n]=m,p=l}h=m}return h};var Rt=(t)=>{let e={};return W.forEach((o)=>{let r=Xt(t,o.name);if(!e.name||!e.distance||e.distance>r)e.name=o.name,e.distance=r;return}),e.name};f.addEventListener("keydown",(t)=>{if(t.ctrlKey&&t.key.toLowerCase()==="l"){t.preventDefault(),V.exec(["shortcut"]);return}switch(t.key){case"Enter":{let e=f.value,o=e.split(" ");if(!e||!o||!o[0]){c("No detectable input ;-;"),G(),f.value="";break}let r=zt(o[0]);if(c("> "+e),Ht(e),Yt(e),!r){let s=Rt(o[0]);if(!s)c("Command doesn't exist :(");else c(["Command doesn't exist, did you mean:",s]);G(),f.value="";break}K.set("EXIT_CODE",r.exec(o)),G(),f.value="";break}case"ArrowRight":{let e=M.textContent?.trim();if(e&&e.startsWith(f.value))f.value=e,M.innerHTML="";break}case"ArrowUp":{t.preventDefault();let e=Ct();if(M.innerHTML="",!e)break;f.value=e,f.setSelectionRange(e.length,e.length);break}case"ArrowDown":{let e=Dt();if(M.innerHTML="",!e){f.value="";break}f.value=e,f.setSelectionRange(e.length,e.length);break}default:{let e=f.value+t.key,o=kt(e);if(o.length===0||!o[0]){M.innerHTML="";break}let r=o[0];M.innerHTML=r;break}}});document.addEventListener("keydown",(t)=>{if(t.ctrlKey&&t.key&&t.key.toLowerCase()==="n")t.preventDefault(),$t()});var Kt=()=>{b.classList.remove("open"),b.classList.add("close"),j=!1};vt.onclick=Kt;var $t=()=>{b.classList.remove("hidden"),b.classList.remove("close"),b.classList.add("open"),j=!0},j=!1;xt.onclick=()=>{if(j)Kt();else $t()};N(b);tt();export{b as terminalWindow,xt as terminalTrigger,Z as terminalInputRow,f as terminalInput,vt as terminalBtnClose,y as terminalBody,M as autocomplete};

var p=document.getElementById("terminal-input"),y=document.getElementById("terminal-input-row"),i=document.getElementById("autocomplete"),l=document.getElementById("terminal-body"),a=document.getElementById("terminal-line-template");var t=(o)=>{let m=Array.isArray(o)?o:[o];for(let e of m){let r=document.createElement("p");r.className="terminal-line",r.textContent=`${e}`,l.appendChild(r)}};var C={name:"help",exec:()=>{let o=["help","ls","cd ( doesnt work yet )","slowking","echo","clear"];return console.log(o),t(o),0}};var E={name:"echo",exec:(o)=>{if(!o||o.length<2)return 1;let m=o.slice(1).join(" ");return t(m),0}};var g={name:"ls",exec:()=>{return t(["Pages on this Website:","About_Me","Writeups","Projects","Home"]),0}};var B={name:"cd",exec:(o)=>{return 0}};var w={name:"slowking",exec:()=>{return t("Thats Me!"),0}};var f={name:"clear",exec:(o)=>{if(!l||!o)return 0;let m=3+(o[0]==="shortcut"?0:1);while(l.children.length>m){let e=l.children[2];if(!e)break;l?.removeChild(e)}return 0}};var A=[C,E,g,B,w,f];var T=(o)=>{console.log("Building Commands...");let m={children:new Map};for(let e of o){let r=m;for(let s of e.name){if(!r.children.has(s))r.children.set(s,{children:new Map});r=r.children.get(s)}r.command=e}return m},L=(o)=>{if(!o||c===null)return[];let m=c;for(let s of o){let n=m.children.get(s);if(!n)return[];m=n}function e(s){if(s.command&&s.command.name.startsWith(o))return s.command;for(let n of s.children.values()){let d=e(n);if(d)return d}return}let r=e(m);return r?[r]:[]},M=(o)=>{if(!o||c===null)return;let m=c;for(let e of o){let r=m.children.get(e);if(!r)return;m=r}return m.command?.name===o?m.command:void 0},c=T(A);var x=()=>{l.removeChild(y),l.appendChild(y),p.focus()};p.addEventListener("keydown",(o)=>{if(o.ctrlKey&&o.key.toLowerCase()==="l"){o.preventDefault(),f.exec(["shortcut"]);return}switch(o.key){case"Enter":{let m=p.value,e=m.split(" ");if(!m||!e||!e[0]){t("No detectable input ;-;"),x(),p.value="";break}let r=M(e[0]);if(t("> "+m),!r){t("Command doesn't exist (yet) :("),x(),p.value="";break}r.exec(e),x(),p.value="";break}case"ArrowRight":{let m=i.textContent?.trim();if(m&&m.startsWith(p.value))p.value=m,i.innerHTML="";break}default:{let m=p.value,e=L(m);if(e.length===0||!e[0]||!e[0].name){i.innerHTML="";break}let r=e[0].name;i.innerHTML=r;break}}});
